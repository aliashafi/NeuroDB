{"ast":null,"code":"var _jsxFileName = \"/Users/aliashafi/Documents/AppAcademy/Projects/NeuroDB/frontend/src/components/Patients/form/MedicationForm.jsx\";\nimport React from 'react';\nimport AddMedicationForm from './AddMedicationForm';\nimport '../../../css/form.scss';\n\nclass MedicationForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numMeds: [0],\n      medication: {}\n    };\n    this.addMed = this.addMed.bind(this);\n    this.deleteMed = this.deleteMed.bind(this);\n    this.updateState = this.updateState.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState !== this.state) {\n      this.props.updateForm(\"medication\", Object.values(this.state));\n    }\n  }\n\n  addMed() {\n    this.state.numMeds.push(1 + this.state.numMeds[this.state.numMeds.length - 1]);\n    this.setState({\n      numMeds: this.state.numMeds\n    });\n  }\n\n  updateState(med, idx) {\n    let newMed = Object.assign({}, this.state.medication, {\n      [idx]: med\n    });\n    this.setState({\n      medication: newMed\n    });\n  }\n\n  deleteMed(num) {\n    let newState = this.state.numMeds.slice(0, num);\n\n    if (this.state.numMeds.length === num) {\n      let remove = Object.assign({}, this.state.medication);\n      delete remove[num];\n      this.setState({\n        numMeds: newState,\n        medication: remove\n      });\n    } else {\n      let remove = Object.assign({}, this.state.medication);\n      delete remove[num];\n      newState = this.state.numMeds.slice(0, num).concat(this.state.numMeds.slice(num + 1));\n      this.setState({\n        numMeds: newState,\n        medication: remove\n      });\n    }\n  }\n\n  render() {\n    if (this.props.currentStep !== \"medication\") {\n      return null;\n    }\n\n    let addMedication = this.state.numMeds.map(medForm => {\n      return React.createElement(AddMedicationForm, {\n        key: medForm,\n        num: medForm,\n        deleteMed: this.deleteMed,\n        updateState: this.updateState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      className: \"patient-dem-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"patient-show-inner-card__header initial-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Medication\"), React.createElement(\"div\", {\n      className: \"header-divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"patient-add-imaging\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-side\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Add Medication\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      onClick: () => this.addMed(),\n      className: \"far fa-plus-square clickable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"left-side__electrode-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, addMedication)))));\n  }\n\n}\n\nexport default MedicationForm;","map":{"version":3,"sources":["/Users/aliashafi/Documents/AppAcademy/Projects/NeuroDB/frontend/src/components/Patients/form/MedicationForm.jsx"],"names":["React","AddMedicationForm","MedicationForm","Component","constructor","props","state","numMeds","medication","addMed","bind","deleteMed","updateState","componentDidUpdate","prevProps","prevState","updateForm","Object","values","push","length","setState","med","idx","newMed","assign","num","newState","slice","remove","concat","render","currentStep","addMedication","map","medForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AddMedicationForm from './AddMedicationForm'\nimport '../../../css/form.scss'\n\nclass MedicationForm extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            numMeds: [0],\n            medication: {}\n        }\n        this.addMed = this.addMed.bind(this);\n        this.deleteMed = this.deleteMed.bind(this);\n        this.updateState = this.updateState.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if (prevState !== this.state){\n            this.props.updateForm(\"medication\", Object.values(this.state))\n        }\n    }\n\n    addMed() {\n        this.state.numMeds.push(1 + this.state.numMeds[this.state.numMeds.length - 1]);\n        this.setState({ numMeds: this.state.numMeds });\n    }\n\n    updateState(med, idx) {\n        let newMed = Object.assign({}, this.state.medication, { [idx]: med })\n        this.setState({ medication: newMed })\n        \n    }\n\n    deleteMed(num) {\n        let newState = this.state.numMeds.slice(0, num)\n        if (this.state.numMeds.length === num) {\n            let remove = Object.assign({}, this.state.medication);\n            delete remove[num];\n            this.setState({ numMeds: newState, medication: remove });\n        } else {\n            let remove = Object.assign({}, this.state.medication);\n            delete remove[num];\n            newState = this.state.numMeds.slice(0, num).concat(this.state.numMeds.slice(num + 1));\n            this.setState({ numMeds: newState, medication: remove });\n        }\n    }\n\n    render() {\n        if (this.props.currentStep !== \"medication\") {\n            return null\n        }\n\n        let addMedication = this.state.numMeds.map(medForm => {\n            return (\n                <AddMedicationForm\n                    key={medForm}\n                    num={medForm}\n                    deleteMed={this.deleteMed}\n                    updateState={this.updateState}\n                />\n            )\n        })\n\n\n        return(\n            <div className=\"patient-dem-container\">\n                <h1 className=\"patient-show-inner-card__header initial-header\">Medication</h1>\n                <div className='header-divider'></div>\n\n\n\n                <div className=\"patient-add-imaging\">\n                    <div className=\"left-side\">\n                        <div>\n                            <h1>Add Medication</h1><span><i onClick={() => this.addMed()} className=\"far fa-plus-square clickable\"></i></span>\n                        </div>\n                    \n                    <div className=\"left-side__electrode-form\">\n\n                        <div>\n                            {addMedication}\n                        </div>\n                    </div>\n                    </div>\n                </div>\n        </div>\n        )\n    }\n}\n\nexport default MedicationForm;"]},"metadata":{},"sourceType":"module"}