{"ast":null,"code":"var _jsxFileName = \"/Users/aliashafi/Documents/AppAcademy/Projects/NeuroDB/frontend/src/components/Dashboard/pie_chart.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport '../../css/deethree.scss';\n\nfunction PieChart(props) {\n  useEffect(() => {\n    renderPie();\n  }, []);\n  const data = props.data;\n\n  function renderPie() {\n    const svg = d3.select(\".pie-chart-\".concat(props.classSelector));\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 20,\n      left: 20\n    };\n    const width = +svg.attr('width') - margin.right - margin.left;\n    const height = +svg.attr('height') - margin.top - margin.bottom;\n    const innerW = width - margin.right - margin.left;\n    const innerH = height - margin.top - margin.bottom;\n    const radius = innerW / 2;\n    const innerRadius = 80;\n    const padAngle = 0.03;\n    const cornerRadius = 3;\n    const format = d3.format(\".0%\");\n    const color = d3.scaleOrdinal(d3.schemePaired);\n\n    const render = data => {\n      //arc accessor\n      const g = svg.append('g').attr('transform', \"translate(\".concat(margin.left, \", \").concat(margin.top, \")\"));\n      g.append('text').text(\"\".concat(props.title)).attr('transform', \"translate(\".concat(radius + margin.left, \",\").concat(radius + margin.top, \")\")).attr('text-anchor', 'middle').attr('class', 'title');\n      const innerG = g.append('g').attr('transform', \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\"));\n      const pieGenerator = d3.pie().value(d => d.value);\n      const arcData = pieGenerator(data);\n      const drawArc = d3.arc().innerRadius(innerRadius).outerRadius(radius).padAngle(padAngle).cornerRadius(cornerRadius); // data binding\n\n      const arcs = innerG.selectAll('path').data(arcData).join('path').attr('class', 'arcs').attr('d', drawArc).style(\"fill\", (d, i) => color(i));\n\n      const arcLabel = () => {\n        const radius = 200;\n        return d3.arc().innerRadius(radius / 4).outerRadius(radius);\n      };\n\n      innerG.append('g').selectAll('text').attr('text-anchor', 'middle').data(arcData).join('text').attr('transform', d => \"translate(\".concat(arcLabel().centroid(d), \")\")).text(d => \"\".concat(d.data.label)).attr(\"x\", -20).attr(\"y\", 10).call(text => text.append(\"tspan\").attr(\"y\", -5).attr(\"x\", -5).attr(\"font-weight\", \"bold\").text(d => format(d.data.value)));\n    };\n\n    render(data);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    className: \"pie-chart-\".concat(props.classSelector),\n    width: \"400\",\n    height: \"400\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }));\n}\n\nexport default PieChart;","map":{"version":3,"sources":["/Users/aliashafi/Documents/AppAcademy/Projects/NeuroDB/frontend/src/components/Dashboard/pie_chart.jsx"],"names":["React","useState","useEffect","d3","PieChart","props","renderPie","data","svg","select","classSelector","margin","top","right","bottom","left","width","attr","height","innerW","innerH","radius","innerRadius","padAngle","cornerRadius","format","color","scaleOrdinal","schemePaired","render","g","append","text","title","innerG","pieGenerator","pie","value","d","arcData","drawArc","arc","outerRadius","arcs","selectAll","join","style","i","arcLabel","centroid","label","call"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport * as d3 from 'd3';\nimport '../../css/deethree.scss';\n\nfunction PieChart(props) {\n    useEffect(() => {\n        renderPie();\n    }, []);\n\n    const data = props.data;\n    \n    \n    function renderPie() {\n        const svg = d3.select(`.pie-chart-${props.classSelector}`);\n        const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n        const width = +svg.attr('width') - margin.right - margin.left;\n        const height = +svg.attr('height') - margin.top - margin.bottom;\n        const innerW = width - margin.right - margin.left;\n        const innerH = height - margin.top - margin.bottom;\n        const radius = innerW/2;\n        const innerRadius = 80;\n        const padAngle = 0.03;\n        const cornerRadius = 3;\n        const format = d3.format(\".0%\");\n        const color = d3.scaleOrdinal(d3.schemePaired);\n        \n        const render = (data) => {\n            //arc accessor\n            const g = svg.append('g')\n                .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n            g.append('text')\n                .text(`${props.title}`)\n                .attr('transform', `translate(${radius+margin.left},${radius+margin.top})`)\n                .attr('text-anchor', 'middle')\n                .attr('class', 'title');\n\n            const innerG = g.append('g')\n                .attr('transform', `translate(${width/2}, ${height/2})`);\n                \n            const pieGenerator = d3.pie()\n                .value(d => d.value);\n            const arcData = pieGenerator(data);\n\n            const drawArc = d3.arc()\n                .innerRadius(innerRadius)\n                .outerRadius(radius)\n                .padAngle(padAngle)\n                .cornerRadius(cornerRadius);\n            \n            // data binding\n            const arcs = innerG.selectAll('path')\n                .data(arcData)\n                .join('path')\n                    .attr('class', 'arcs')\n                    .attr('d', drawArc)\n                    .style(\"fill\", (d, i) => color(i));\n\n            const arcLabel = () => {\n                const radius = 200;\n                return d3.arc().innerRadius(radius/4).outerRadius(radius);\n              }\n            innerG.append('g')\n                .selectAll('text')\n                .attr('text-anchor', 'middle')\n                .data(arcData)\n                .join('text')\n                    .attr('transform', d => `translate(${arcLabel().centroid(d)})`)\n                    .text(d => `${d.data.label}`)\n                    .attr(\"x\", -20)\n                    .attr(\"y\", 10)\n                    .call(text => text.append(\"tspan\")\n                        .attr(\"y\", -5)\n                        .attr(\"x\", -5)\n                        .attr(\"font-weight\", \"bold\")\n                        .text(d => format(d.data.value)));\n        }\n        render(data);\n    }\n\n\n    return (\n        <div>\n            <svg className={`pie-chart-${props.classSelector}`} width='400' height='400'></svg>\n        </div>\n    );\n}\n\nexport default PieChart;"]},"metadata":{},"sourceType":"module"}